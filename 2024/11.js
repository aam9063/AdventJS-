/*
El Grinch ha hackeado üè¥‚Äç‚ò†Ô∏è los sistemas del taller de Santa Claus y ha codificado los nombres de todos los archivos importantes. Ahora los elfos no pueden encontrar los archivos originales y necesitan tu ayuda para descifrar los nombres.

Cada archivo sigue este formato:

Comienza con un n√∫mero (puede contener cualquier cantidad de d√≠gitos).
Luego tiene un guion bajo _.
Contin√∫a con un nombre de archivo y su extensi√≥n.
Finaliza con una extensi√≥n extra al final (que no necesitamos).
Ten en cuenta que el nombre de los archivos pueden contener letras (a-z, A-Z), n√∫meros (0-9), otros guiones bajos (_) y guiones (-).

Tu tarea es implementar una funci√≥n que reciba un string con el nombre de un archivo codificado y devuelva solo la parte importante: el nombre del archivo y su extensi√≥n.

Ejemplos:
decodeFilename('2023122512345678_sleighDesign.png.grinchwa')
‚ûû "sleighDesign.png"

decodeFilename('42_chimney_dimensions.pdf.hack2023')
‚ûû "chimney_dimensions.pdf"

decodeFilename('987654321_elf-roster.csv.tempfile')
‚ûû "elf-roster.csv"
*/

/**
 * Decodes a filename by removing the initial digits and underscore,
 * as well as the final extension. It returns only the meaningful
 * "filename.extension".
 *
 * @param {string} filename - The filename to decode.
 * @returns {string} The decoded filename (without the extra extension).
 */
function decodeFilename(filename) {
  // 1. Buscamos la posici√≥n del primer '_'.
  const underscoreIndex = filename.indexOf('_');
  if (underscoreIndex === -1) {
    // Si no hay '_', no podemos decodificar siguiendo el patr√≥n dado.
    return '';
  }

  // 2. Tomamos todo lo que hay despu√©s del guion bajo (ej. "sleighDesign.png.grinchwa").
  const afterUnderscore = filename.slice(underscoreIndex + 1);

  // 3. Buscamos la √∫ltima aparici√≥n de '.' para eliminar la extensi√≥n final (ej. "grinchwa").
  const lastDotIndex = afterUnderscore.lastIndexOf('.');
  if (lastDotIndex === -1) {
    // Si no hay '.', no hay extensi√≥n final que quitar.
    return afterUnderscore;
  }

  // 4. Devolvemos solo la parte previa a esa √∫ltima extensi√≥n.
  return afterUnderscore.slice(0, lastDotIndex);
}
